#!/usr/bin/env bash

set -o errexit
set -o nounset
set -o pipefail

screen_left=(
    "--output" "DP-5"
    "--pos" "0x0"
    "--mode" "1920x1080"
    "--rotate" "left"
)

screen_left_off=(
    "--output" "DP-5"
    "--off"
)

screen_right=(
    "--output" "DP-0"
    "--pos" "3000x896"
    "--mode" "1280x1024"
    "--rotate" "normal"
)

screen_right_off=(
    "--output" "DP-0"
    "--off"
)

screen_center=(
    "--output" "HDMI-0"
    "--pos" "1080x695"
    "--mode" "1920x1080"
    "--rotate" "normal"
    "--primary"
)

screen_center_off=(
    "--output" "HDMI-0"
    "--off"
)

case "$(hostname -f)" in
    "box.home.arpa")
        case "${1:-"all"}" in
            "all")
                xrandr "${screen_left[@]}" "${screen_right[@]}" "${screen_center[@]}"
                ;;
            "left")
                xrandr "${screen_left[@]}" "${screen_right_off[@]}" "${screen_center_off[@]}"
                ;;
            "right")
                xrandr "${screen_left_off[@]}" "${screen_right[@]}" "${screen_center_off[@]}"
                ;;
            "center")
                xrandr "${screen_left_off[@]}" "${screen_right_off[@]}" "${screen_center[@]}"
                ;;
            *)
                echo 1>&2 "unknown mode"
                exit 1
                ;;
        esac
        ;;
    *)
        echo 1>&2 "unknown machine"
        exit 1
        ;;
esac
